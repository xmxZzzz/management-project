<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>axios基本使用</title>
</head>
<body>
<div>
    <button onclick="testGet()">GET查询</button>
    <button onclick="testPost()">POST新增</button>
    <button onclick="testPut()">PUT更新</button>
    <button onclick="testDelete()">DELETE删除</button>
</div>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/1.1.3/axios.min.js"></script>
<script>
  <!-- 指定默认配置   -->
  axios.defaults.baseURL = 'http://localhost:3000'

  function testGet () {
    axios({
      url: 'posts',
      params: {
        id: 3
      }
    }).then(response => {
      console.log(response)
    })
      .catch(error => {
        alert(error)
      })
  }

  function testPost () {
    axios({
      url: 'posts',
      method: 'POST',
      data: {
        title: 'json-server3',
        author: 'typeicode3',
      }
    }).then(response => {
      console.log(response)
    })
      .catch(error => {
        alert(error)
      })
  }

  function testPut () {
    axios({
      url: 'posts/3',
      method: 'put',
      data: {
        title: 'json-server__',
        author: 'typeicode__',
      }
    }).then(response => {
      console.log(response)
    })
      .catch(error => {
        alert(error)
      })
  }

  function testDelete () {
    axios({
      url: 'posts/3',
      method: 'delete'
    }).then(response => {
      console.log(response)
    })
      .catch(error => {
        alert(error)
      })
  }
</script>

</body>
</html>
